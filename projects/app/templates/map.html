{% extends "base.html" %}

{% block content %}
<div class="container-fluid">
      <div class="row">

         {% include 'menu.html' %}

      <main role="main" class="col-md-9 ml-sm-auto col-lg-10 px-4">
          <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom" >
            <h1 class="h2">Actual position</h1>
            <div class="btn-toolbar mb-2 mb-md-0">
              <div class="btn-group mr-2">
                <button class="btn btn-sm btn-outline-secondary">Share</button>
                <button class="btn btn-sm btn-outline-secondary">Export</button>
              </div>
            </div>
          </div>


    <div id="mapid" style="width: 100%; height: 650px;"></div>
    <script>

        var mymap = L.map('mapid').setView([46.73879, 11.95819], 19);

        L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw', {
            maxZoom: 18,
            attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, ' +
                '<a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
                'Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>',
            id: 'mapbox.streets'
        }).addTo(mymap);

        var cow = L.icon({
            iconUrl: '{{ url_for('static', filename = 'happy-cow.png') }}',
            iconSize: [40, 40],
            iconAnchor: [22, 94],
            popupAnchor: [-3, -76]
        });

        var cow1 = L.marker([46.73879, 11.95747], {icon: cow}).addTo(mymap);
        var cow2 = L.marker([46.73873, 11.95818], {icon: cow}).addTo(mymap);
        var cow3 = L.marker([46.73813, 11.95866], {icon: cow}).addTo(mymap);
        var cow4 = L.marker([46.73831, 11.95717], {icon: cow}).addTo(mymap);
        var cow5 = L.marker([46.73838, 11.95828], {icon: cow}).addTo(mymap);
        var cow6 =  L.marker([46.73853, 11.95812], {icon: cow}).addTo(mymap);

        cow1.bindPopup("<b>Hello world!</b><br>I am a popup.");
        cow2.bindPopup("<b>Hello world!</b><br>I am a popup.");
        cow3.bindPopup("<b>Hello world!</b><br>I am a popup.");
        cow4.bindPopup("<b>Hello world!</b><br>I am a popup.");
        cow5.bindPopup("<b>Hello world!</b><br>I am a popup.");
        cow6.bindPopup("<b>Hello world!</b><br>I am a popup.");

        function onMapClick(e) {
            popup
                .setLatLng(e.latlng)
                .setContent("You clicked the map at " + e.latlng.toString())
                .openOn(mymap);
        }

        mymap.on('click', onMapClick);

    </script>


{% endblock %}
        </main>
       </div>
    </div>